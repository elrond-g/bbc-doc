# 搜索配置文档和使用方法

- [sphinx安装](# install)
- [sphinx配置文件存放路径](# conf)
- [使用sphinx搜索，并调用](# call)

<a name="install"></a>
## 安装
### 安装sphinx
sphinx下载官网：http://sphinxsearch.com/downloads/release/

### WEB服务器：安装scws
如果是多台web服务器则，每台web服务器都需要安装scws

scws下载官网：http://www.xunsearch.com/scws/download.php

####安装scws
```shell
wget http://www.xunsearch.com/scws/down/scws-1.2.2.tar.bz2
tar xvf scws-1.2.2.tar.bz2
cd scws-1.2.2
./configure --prefix=/usr/local/scws
make && make install
```
####PHP安装scws扩展(回到scws源目录中scws-1.2.2)
```shell
cd phpext/
/usr/local/webserver/php/bin/phpize
./configure --with-scws=/usr/local/scws/ --with-php-config=/usr/local/php/bin/php-config
make && make install
```
配置php.ini，在php.ini中添加如下代码
```
[scws]
extension = scws.so
scws.default.charset = utf8
;以下的的路径就是编译时的--with-scws的值
scws.default.fpath = /usr/local/scws/

```

<a name="conf"></a>
## sphinx配置文件存放路径
   在sphinx配置文件sphinx.conf的同级目录中新增一个conf.d文件夹
   所有的索引配置可以单独配置对应的索引配置

<a name="call"></a>
## 使用sphinx搜索，并调用
